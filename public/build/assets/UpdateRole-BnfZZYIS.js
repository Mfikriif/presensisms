import{a as h,V as u,j as e,M as g,u as a}from"./app-BUGKuYZp.js";import{A as j}from"./AuthenticatedLayout-fekp91K1.js";import{T as b}from"./triangle-alert-C41Cp39M.js";import"./ApplicationLogo-CJAeBEut.js";import"./transition-DT67-FPA.js";function A({user:r}){const{data:d,setData:l,put:i,post:n,processing:o}=h({role:r[0].role}),{auth:c}=u().props;function x(s){s.preventDefault(),i(route("roleuser.update",{id:r[0].id}),{onSuccess:()=>{a.success("Data berhasil diubah")},onError:()=>{a.error("Data gagal diubah")}})}function m(s){a(t=>e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-4 p-4 bg-red-100 border border-red-400 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"text-red-600 w-10 h-10"}),e.jsx("p",{className:"text-lg font-semibold text-red-600",children:"Apakah Anda yakin ingin me-reset password ini?"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>{p(s),a.dismiss(t)},className:"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700",children:"OK"}),e.jsx("button",{onClick:()=>a.dismiss(t),className:"px-4 py-2 text-red-600 bg-red-200 rounded-lg hover:bg-red-300",children:"Batal"})]})]}),{duration:1/0})}function p(s){n(`/admin/user-reset/password/${s}`,{onSuccess:()=>{a.success("password berhasil di reset")},onError:()=>{a.error("gagal me reset password")}})}return e.jsx(e.Fragment,{children:e.jsx(j,{header:e.jsx(e.Fragment,{children:"Update User"}),children:e.jsxs(e.Fragment,{children:[e.jsx(g,{title:"Update User"}),e.jsx("div",{className:"p-6 bg-white shadow-md rounded-lg",children:e.jsx("div",{className:"max-w-5xl p-10",children:e.jsxs("div",{className:"p-6",children:[e.jsx("table",{className:"table-auto w-full border-collapse",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"ID Pegawai"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:r[0].id})]}),e.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"Nama"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:r[0].name})]}),e.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"Email"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:r[0].email})]}),e.jsxs("tr",{className:"hover:bg-gray-50 border-b",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"Role"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:e.jsxs("select",{className:"rounded-lg",name:"role",id:"role",value:d.role,onChange:s=>l("role",s.target.value),children:[e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"operator",children:"Operator"}),e.jsx("option",{value:"superadmin",children:"Super Admin"})]})})]})]})}),e.jsxs("div",{className:"mt-5 w-96",children:[e.jsx("button",{onClick:()=>m(r[0].id),className:"bg-rose-600 text-white px-3 py-1 rounded",children:"Reset Password"}),c.user.role=="superadmin"?e.jsx("button",{onClick:x,disabled:o,className:"bg-green-500 text-white px-2 py-1 ml-5 rounded",children:"Simpan Perubahan"}):e.jsx("span",{})]})]})})})]})})})}export{A as default};
