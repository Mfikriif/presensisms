import{j as s}from"./app-DWK0IooE.js";function k({histori:h,bulan:m,tahun:j,error:o,dataPegawai:n,rekapLengkap:c}){h[0];const x=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Novermber","Desember"];console.log("rekap Lengkap",c);const p=e=>x[e-1],i=e=>{if(!e)return 0;const[l,t,r]=e.split(":").map(Number);return l*3600+t*60+(r||0)},u=(e,l)=>{const t=i(e)-i(l);return t>0?`terlambat ${Math.floor(t/60)} menit`:"Tepat waktu"},d=(e,l)=>{if(!e||!l)return"-";const t=b=>{const[N,y]=b.split(":").map(Number);return N*60+y},r=t(l)-t(e);if(r<0)return"Waktu tidak valid";const g=Math.floor(r/60),f=r%60;return`${g} jam ${f} menit`};return s.jsxs("div",{style:a.page,children:[s.jsxs("div",{className:"flex mb-10 w-3/4",children:[s.jsx("div",{className:"w-32 h-32 mr-2",children:s.jsx("img",{src:"/assets/img/login/sms.jpg",alt:"Login Image"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("h1",{className:"font-bold",children:"LAPORAN PRESENSI PEGAWAI"}),s.jsxs("h1",{className:"font-bold",children:["PERIODE ",p(m).toUpperCase()," ",j]}),s.jsx("h1",{className:"font-bold",children:"PT.SIDOREJO MAKMUR SEJAHTERA"}),s.jsx("h1",{className:"text-sm text-slate-600 italic",children:"Jl. Raya Semarang - Demak Km. 13, Bandungrejo, Kec. Mranggen, Kabupaten Demak, Jawa Tengah 59567"})]})]}),n&&s.jsxs("div",{className:"flex -mt-4",style:a.info,children:[s.jsx("div",{className:"w-24 h-24 overflow-hidden mr-3 mt-2",children:s.jsx("img",{src:`storage/${n.foto}`,alt:""})}),s.jsxs("div",{className:"flex flex-col justify-evenly",children:[s.jsxs("p",{children:["Kode Pegawai ",s.jsx("span",{className:"ml-1",children:":"}),s.jsx("span",{className:"ml-2",children:n.id})]}),s.jsxs("p",{children:["Nama ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:n.nama_lengkap})]}),s.jsxs("p",{children:["Posisi ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:n.posisi})]}),s.jsxs("p",{children:["No Hp ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:n.no_hp})]})]})]}),o?s.jsx("p",{style:a.error,children:o}):s.jsx(s.Fragment,{children:s.jsxs("table",{className:"text-center",style:a.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:a.th,children:"No"}),s.jsx("th",{style:a.th,children:"Tanggal"}),s.jsx("th",{style:a.th,children:"Jam Masuk"}),s.jsx("th",{style:a.th,children:"Foto"}),s.jsx("th",{style:a.th,children:"Jam Keluar"}),s.jsx("th",{style:a.th,children:"Foto"}),s.jsx("th",{style:a.th,children:"Status"}),s.jsx("th",{style:a.th,children:"Jml Jam"})]})}),s.jsx("tbody",{children:c.map((e,l)=>s.jsxs("tr",{className:"text-center",children:[s.jsx("td",{style:a.td,children:l+1}),s.jsx("td",{className:"whitespace-nowrap",style:a.td,children:e.tanggal}),s.jsx("td",{style:a.td,children:e.jam_in}),s.jsx("td",{style:a.td,children:s.jsx("img",{src:e.foto_in?`/storage/uploads/absensi/${e.foto_in}`:"assets/img/nophoto.png",alt:"Foto Masuk",className:"h-12 w-12 object-cover"})}),s.jsx("td",{style:a.td,children:e.jam_out?e.jam_out:e.jam_pulang}),s.jsx("td",{style:a.td,children:s.jsx("img",{src:e.foto_out?`/storage/uploads/absensi/${e.foto_out}`:"assets/img/nophoto.png",alt:"Foto Masuk",className:"h-12 w-12 object-cover"})}),s.jsx("td",{style:a.td,children:!e.jam_in&&!e.jam_out?e.status==="i"?s.jsx("span",{children:"Izin"}):e.status==="s"?s.jsx("span",{children:"Sakit"}):s.jsx("span",{children:"-"}):e.jam_in&&e.jam_out?e.jam_in>e.jam_masuk?s.jsx("span",{children:u(e.jam_in,e.jam_masuk)}):s.jsx("span",{children:"Tepat Waktu"}):s.jsx("span",{children:"-"})}),s.jsx("td",{style:a.td,children:e.jam_out?d(e.jam_in,e.jam_out):d(e.jam_in,e.jam_pulang)})]},l))})]})})]})}const a={page:{fontFamily:"Arial, sans-serif",width:"210mm",minHeight:"297mm",margin:"auto",padding:"20mm",backgroundColor:"white",color:"black",boxShadow:"0 0 5px rgba(0,0,0,0.1)"},info:{marginBottom:"20px",fontSize:"14px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},th:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f4f4f4",textAlign:"left"},td:{border:"1px solid #ddd",padding:"8px"},error:{color:"red",fontWeight:"bold"}};export{k as default};
