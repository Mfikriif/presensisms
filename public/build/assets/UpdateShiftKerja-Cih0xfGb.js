import{a as k,j as e,M as f,u as w}from"./app-BUGKuYZp.js";import{A as v}from"./AuthenticatedLayout-fekp91K1.js";import"./ApplicationLogo-CJAeBEut.js";import"./transition-DT67-FPA.js";function A({pegawai:s,jadwalShift:o,shift:r}){var m,c,x,h,j,b,g;const{data:l,setData:p,put:u,errors:i,processing:n}=k({id:s.id,nama:s.nama_lengkap,shift:{senin:((m=r.find(a=>a.hari.toLowerCase()==="senin"))==null?void 0:m.kode_jamkerja)||"",selasa:((c=r.find(a=>a.hari.toLowerCase()==="selasa"))==null?void 0:c.kode_jamkerja)||"",rabu:((x=r.find(a=>a.hari.toLowerCase()==="rabu"))==null?void 0:x.kode_jamkerja)||"",kamis:((h=r.find(a=>a.hari.toLowerCase()==="kamis"))==null?void 0:h.kode_jamkerja)||"",jumat:((j=r.find(a=>a.hari.toLowerCase()==="jumat"))==null?void 0:j.kode_jamkerja)||"",sabtu:((b=r.find(a=>a.hari.toLowerCase()==="sabtu"))==null?void 0:b.kode_jamkerja)||"",minggu:((g=r.find(a=>a.hari.toLowerCase()==="minggu"))==null?void 0:g.kode_jamkerja)||""}}),y=a=>{const{name:t,value:d}=a.target;p("shift",{...l.shift,[t]:d})},N=a=>{a.preventDefault(),console.log(l),u(route("setShift.edit",{id:s.id}),{onSuccess:()=>{w.success("Shift Pegawai berhasil di perbarui")}})};return e.jsx(e.Fragment,{children:e.jsx(v,{header:e.jsx("p",{children:"Set Shift Operator"}),children:e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-6 bg-white shadow-md rounded-lg",children:[e.jsx(f,{title:"Set Shift Jam kerja"}),e.jsxs("div",{className:"w-full p-10",children:[e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-20 h-20 rounded overflow-hidden mx-10",children:e.jsx("img",{src:`/storage/${s.foto}`,alt:"foto-pegawai"})}),e.jsx("div",{className:"px-6 max-w-xl max-h-96 overflow-hidden",children:e.jsx("table",{className:"table-auto w-full border-collapse",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-300",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"ID Pegawai"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:s.id})]}),e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-300",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"Nama"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:s.nama_lengkap})]}),e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-300",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:"Posisi"}),e.jsx("td",{className:"px-6 py-4 text-gray-800",children:s.posisi})]})]})})})]}),e.jsxs("div",{className:"flex justify-evenly w-full mt-6",children:[e.jsxs("form",{action:"",onSubmit:N,className:"w-full mr-2",children:[e.jsxs("table",{className:"table-auto w-full border-collapse border border-gray-300 mr-3",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 border border-gray-300",children:"Hari"}),e.jsx("th",{className:"px-6 py-3 border border-gray-300",children:"Jam Kerja"})]})}),e.jsx("tbody",{children:["Senin","Selasa","Rabu","Kamis","Jumat","Sabtu","Minggu"].map(a=>{const t=r.find(d=>d.hari.toLowerCase()===a.toLowerCase());return e.jsxs("tr",{className:"hover:bg-gray-50 border-b border-gray-300",children:[e.jsx("th",{className:"text-left px-6 py-4 font-medium text-gray-600",children:a}),e.jsxs("td",{className:"px-6 py-4 text-gray-800",children:[e.jsxs("select",{name:a.toLowerCase(),value:l.shift[a.toLowerCase()]!==void 0?l.shift[a.toLowerCase()]:(t==null?void 0:t.kode_jamkerja)||"",onChange:y,className:"w-full border border-gray-300 rounded-md",children:[e.jsx("option",{value:"",children:"Pilih jam kerja"}),o.map(d=>e.jsx("option",{value:d.kode_jamkerja,children:d.kode_jamkerja},d.kode_jamkerja))]}),i[`shift.${a.toLowerCase()}`]&&e.jsx("p",{className:"text-red-600 text-sm",children:i[`shift.${a.toLowerCase()}`]})]})]},a)})})]}),e.jsx("button",{type:"submit",className:"mt-4 px-4 py-2 w-full  bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:n,children:n?"Saving...":"Simpan Perubahan Jadwal"})]}),e.jsxs("table",{className:"table-auto w-2/5 h-52 border-collapse border border-gray-300 text-sm whitespace-nowrap",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"KODE"}),e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"NAMA"}),e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"AWAL MASUK"}),e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"JAM MASUK"}),e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"AKHIR MASUK"}),e.jsx("th",{className:"px-2 py-1 border border-gray-300",children:"JAM PULANG"})]})}),e.jsx("tbody",{className:"font-semibold",children:o.map(a=>e.jsxs("tr",{className:"odd:bg-white even:bg-gray-100 hover:bg-gray-100",children:[e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.kode_jamkerja}),e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.nama_jamkerja}),e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.awal_jam_masuk}),e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.jam_masuk}),e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.akhir_jam_masuk}),e.jsx("td",{className:"px-2 border border-gray-300 leading-tight",children:a.jam_pulang})]},a.kode_jamkerja))})]})]})]})]})})})})}export{A as default};
