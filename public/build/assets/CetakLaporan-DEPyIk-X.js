import{j as s}from"./app-D5LO2mY7.js";function w({histori:d,bulan:h,tahun:j,error:c,statusPresensi:x}){const r=d[0],p=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","Novermber","Desember"],u=a=>p[a-1],o=a=>{if(!a)return 0;const[t,l,n]=a.split(":").map(Number);return t*3600+l*60+(n||0)},g=(a,t)=>{const l=o(a)-o(t);return l>0?`${Math.floor(l/60)} menit`:"Tepat waktu"},b=d.map(a=>{const t=x.find(i=>i.nama===a.nama&&i.tanggal_presensi===a.tanggal_presensi),l=(t==null?void 0:t.akhir_jam_masuk)||"23:59:59",n=o(a.jam_in)>o(l)?"Terlambat":"Tepat Waktu";return{...a,jam_pulang:t.jam_pulang,akhir_jam_masuk:l,status_terlambat:n,jam_keterlambatan:g(a.jam_in,l)}}),m=(a,t)=>{if(!a||!t)return"Waktu tidak valid";const l=N=>{const[_,y]=N.split(":").map(Number);return _*60+y},n=l(t)-l(a);if(n<0)return"Waktu tidak valid";const i=Math.floor(n/60),f=n%60;return`${i} jam ${f} menit`};return s.jsxs("div",{style:e.page,children:[s.jsxs("div",{className:"flex mb-10 w-3/4",children:[s.jsx("div",{className:"w-32 h-32 mr-2",children:s.jsx("img",{src:"/assets/img/login/sms.jpg",alt:"Login Image"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("h1",{className:"font-bold",children:"LAPORAN PRESENSI PEGAWAI"}),s.jsxs("h1",{className:"font-bold",children:["PERIODE ",u(h).toUpperCase()," ",j]}),s.jsx("h1",{className:"font-bold",children:"PT.SIDOREJO MAKMUR SEJAHTERA"}),s.jsx("h1",{className:"text-sm text-slate-600 italic",children:"Jl. Raya Semarang - Demak Km. 13, Bandungrejo, Kec. Mranggen, Kabupaten Demak, Jawa Tengah 59567"})]})]}),c?s.jsx("p",{style:e.error,children:c}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex -mt-4",style:e.info,children:[s.jsx("div",{className:"w-24 h-24 overflow-hidden mr-3 mt-2",children:s.jsx("img",{src:`storage/${r.foto}`,alt:""})}),s.jsxs("div",{className:"flex flex-col justify-evenly",children:[s.jsxs("p",{children:["Kode pegawai ",s.jsx("span",{className:"ml-1",children:":"}),s.jsx("span",{className:"ml-2",children:r.id})]}),s.jsxs("p",{children:["Nama ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:r.nama})]}),s.jsxs("p",{children:["Posisi ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:r.posisi})]}),s.jsxs("p",{children:["No Hp ",s.jsx("span",{className:"ml-14",children:":"}),s.jsx("span",{className:"ml-2",children:r.no_hp})]})]})]}),s.jsxs("table",{style:e.table,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{style:e.th,children:"No"}),s.jsx("th",{style:e.th,children:"Tanggal"}),s.jsx("th",{style:e.th,children:"Jam Masuk"}),s.jsx("th",{style:e.th,children:"Foto"}),s.jsx("th",{style:e.th,children:"Jam Keluar"}),s.jsx("th",{style:e.th,children:"Foto"}),s.jsx("th",{style:e.th,children:"Status"}),s.jsx("th",{style:e.th,children:"Jml Jam"})]})}),s.jsx("tbody",{children:b.map((a,t)=>s.jsxs("tr",{className:"text-center",children:[s.jsx("td",{style:e.td,children:t+1}),s.jsx("td",{className:"whitespace-nowrap",style:e.td,children:a.tanggal_presensi}),s.jsx("td",{style:e.td,children:a.jam_in}),s.jsx("td",{style:e.td,children:s.jsx("img",{src:a.foto_in?`/storage/uploads/absensi/${a.foto_in}`:"assets/img/nophoto.png",alt:"Foto Masuk",className:"h-12 w-12 object-cover"})}),s.jsx("td",{style:e.td,children:a.jam_out?a.jam_out:a.jam_pulang}),s.jsx("td",{style:e.td,children:s.jsx("img",{src:a.foto_out?`/storage/uploads/absensi/${a.foto_out}`:"assets/img/nophoto.png",alt:"Foto Masuk",className:"h-12 w-12 object-cover"})}),s.jsx("td",{style:e.td,children:a.status_terlambat==="Terlambat"?s.jsxs("span",{children:["Terlambat"," ",a.jam_keterlambatan]}):s.jsx("span",{children:"Tepat waktu"})}),s.jsx("td",{style:e.td,children:a.jam_out?m(a.jam_in,a.jam_out):m(a.jam_in,a.jam_pulang)})]},t))})]})]})]})}const e={page:{fontFamily:"Arial, sans-serif",width:"210mm",minHeight:"297mm",margin:"auto",padding:"20mm",backgroundColor:"white",color:"black",boxShadow:"0 0 5px rgba(0,0,0,0.1)"},info:{marginBottom:"20px",fontSize:"14px"},table:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},th:{border:"1px solid #ddd",padding:"8px",backgroundColor:"#f4f4f4",textAlign:"left"},td:{border:"1px solid #ddd",padding:"8px"},error:{color:"red",fontWeight:"bold"}};export{w as default};
